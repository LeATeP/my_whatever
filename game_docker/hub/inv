#!/bin/env python3

from os import environ
from sys import argv, path
from wrap import init_conn
env = environ.get


path.append(env("GAME")) # my_whatever/game_docker
from sql.sql_query import psql
from hub.wrap import init_conn


def get_inv(cmd):
    inventory = cmd['get'](table="items") # get(table=[argv[1] if len(argv) > 1 else 'items'][0])
        
        
    if len(argv) > 1:
        try:
            print(f"{argv[1]}:", inventory[argv[1]])
        except(Exception):
            print(Exception)
    else:
        [print(f"{n}: {inventory[n]}") for n in inventory] # "1 {'iron_chunk': 0}"


if __name__ == "__main__":
    init_conn(get_inv)
        






