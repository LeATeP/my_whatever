#!/bin/env python3
from os import environ
from sys import argv, path

env = environ.get

path.append(env("GAME")) # my_whatever/game_docker
from hub.wrap import init_conn

summon_cost = 10


def conn(cmd):
    worker = cmd['insert'](table="worker", row="name", name=f"Human", returning="id, name, grade, xp, level")
    [print(f"{n}: {worker[n]}") for n in worker]
        
    
    
def check_available_resources(inv, vars) -> bool:
    cost = summon_cost * int(vars[1]) if len(vars[1]) > 1 else 1
    
    energy = inv["Energy rock"]
    if energy >= cost:
        return True
    return False
    
def argv_test() -> int:
    if len(argv) > 1:
        try:
            num = int(argv[1])
            return num
        except ValueError:
            print("Input is not a number")
            
    
if __name__ == "__main__":
    init_conn(conn)
    